(this.webpackJsonptractian=this.webpackJsonptractian||[]).push([[0],{116:function(e,t,n){},118:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(34),c=n.n(r),i=n(15),l=n.n(i),o=n(16),u=n(21),d=n(9),j=n(175),h=n(172),b="https://my-json-server.typicode.com/tractian/fake-api",v=n(23),f=n.n(v),m=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(b,"/assets")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(b,"/companies")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(b,"/units")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(b,"/users")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=n(79),w=n.n(g),y=n(80),N=n.n(y),F=n(81),S=n.n(F),k=(n(116),n(2));var C=function(e){var t,n,a,s,r,c,i,l,o,u,d,j,h,b,v,f,m,p,x,O,g,y,F={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Sa\xfade da m\xe1quina"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{name:null===e||void 0===e||null===(t=e.asset)||void 0===t?void 0:t.name,colorByPoint:!0,data:[{name:"Sa\xfade Complementar",y:100-(null===e||void 0===e||null===(n=e.asset)||void 0===n?void 0:n.healthscore),color:"#1F3577"},{name:"Sa\xfade Atual",y:null===e||void 0===e||null===(a=e.asset)||void 0===a?void 0:a.healthscore,color:(y=null===e||void 0===e||null===(s=e.asset)||void 0===s?void 0:s.healthscore,y>=70?"#00FF57":y<=59?"#FF5050":y<=69?"#FFA800":"#fff")}]}]};return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"box",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"title",children:null===e||void 0===e||null===(r=e.asset)||void 0===r?void 0:r.name}),Object(k.jsx)("img",{alt:"asset-img",src:null===e||void 0===e||null===(c=e.asset)||void 0===c?void 0:c.image,style:{height:300,width:300}})]}),Object(k.jsx)(N.a,{highcharts:w.a,options:F}),Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(k.jsxs)("div",{className:"box-data",children:[Object(k.jsxs)("h1",{className:"title",children:["Total de Coletas: ",null===e||void 0===e||null===(i=e.asset)||void 0===i||null===(l=i.metrics)||void 0===l?void 0:l.totalCollectsUptime," hrs"]}),Object(k.jsxs)("h1",{className:"title",children:["\xdaltima vez ativo:"," ",S()(null===e||void 0===e||null===(o=e.asset)||void 0===o||null===(u=o.metrics)||void 0===u?void 0:u.lastUptimeAt).format("DD/MM/YYYY")]}),Object(k.jsxs)("h1",{className:"title",children:["Total de horas ativo:"," ",Math.round(Number(null===e||void 0===e||null===(d=e.asset)||void 0===d||null===(j=d.metrics)||void 0===j?void 0:j.totalUptime))," hrs"]}),Object(k.jsxs)("h1",{className:"title",children:["Sensor: ",null===e||void 0===e||null===(h=e.asset)||void 0===h||null===(b=h.sensors)||void 0===b?void 0:b.map((function(e){return e}))]}),Object(k.jsxs)("h1",{className:"title",children:["Temperatura m\xe1xima: ",null===e||void 0===e||null===(v=e.asset)||void 0===v||null===(f=v.specifications)||void 0===f?void 0:f.maxTemp]}),Object(k.jsxs)("h1",{className:"title",children:["Pot\xeancia: ",null===e||void 0===e||null===(m=e.asset)||void 0===m||null===(p=m.specifications)||void 0===p?void 0:p.power]}),Object(k.jsxs)("h1",{className:"title",children:["Rota\xe7\xf5es por minuto (rpm): ",null===e||void 0===e||null===(x=e.asset)||void 0===x||null===(O=x.specifications)||void 0===O?void 0:O.rpm]}),Object(k.jsxs)("h1",{className:"title",children:["Status: ",null===e||void 0===e||null===(g=e.asset)||void 0===g?void 0:g.status]})]})})]})})},T=n(168);n(118);var A=function(e){var t=Object(a.useState)("#fff"),n=Object(d.a)(t,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var t=e.asset.healthscore>=70?"#00FF57":e.asset.healthscore<=59?"#FF5050":e.asset.healthscore<=69?"#FFA800":"#fff";r(t)}),[e]),Object(k.jsxs)(T.a,{className:"asset",style:{backgroundColor:s},onClick:function(){e.setModel(e.asset)},children:[Object(k.jsx)("h1",{className:"asset-name",children:e.asset.model}),Object(k.jsx)("h1",{className:"asset-name",children:e.asset.name}),Object(k.jsxs)("h1",{className:"asset-name",children:[e.asset.healthscore,"%"]})]})},E=n(174),I=n(170),M=n(166),B=n(173),D=n(169),U=n(176);n(123);var L=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(""),j=Object(d.a)(u,2),h=j[0],b=j[1];return Object(k.jsxs)("div",{className:"form",children:[Object(k.jsxs)(E.a,{sx:{m:1,width:300,marginTop:15},children:[Object(k.jsx)(I.a,{children:"Empresa"}),Object(k.jsx)(M.a,{value:s,onChange:function(e){return r(e.target.value)},input:Object(k.jsx)(B.a,{label:"Empresa"}),children:e.companies.map((function(e){return Object(k.jsx)(D.a,{value:e.name,children:e.name},e.id)}))})]}),Object(k.jsxs)(E.a,{sx:{m:1,width:300,marginTop:15},children:[Object(k.jsx)(I.a,{children:"Unidade"}),Object(k.jsx)(M.a,{value:h,onChange:function(e){return b(e.target.value)},input:Object(k.jsx)(B.a,{label:"Empresa"}),children:e.units.map((function(e){return Object(k.jsx)(D.a,{value:e.name,children:e.name},e.id)}))})]}),Object(k.jsxs)(E.a,{sx:{m:1,width:300,marginTop:15},children:[Object(k.jsx)(I.a,{children:"Usu\xe1rio"}),Object(k.jsx)(M.a,{value:l,onChange:function(e){return o(e.target.value)},input:Object(k.jsx)(B.a,{label:"Empresa"}),children:e.users.map((function(e){return Object(k.jsx)(D.a,{value:e.name,children:e.name},e.id)}))})]}),Object(k.jsx)(U.a,{variant:"contained",style:{backgroundColor:"#1F3577",marginTop:110,padding:15},onClick:function(){r(""),o(""),b("")},children:"Solicitar Manunten\xe7\xe3o"})]})};n(125);var P,R=function(){return Object(k.jsx)("div",{className:"navbar",children:Object(k.jsx)("h1",{className:"navbar-text",children:"DASHBOARD TRACTIAN"})})};!function(e){e[e.danger=0]="danger",e[e.warning=1]="warning",e[e.success=2]="success",e[e.all=3]="all"}(P||(P={}));var Y=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),c=Object(d.a)(r,2),i=c[0],b=c[1],v=Object(a.useState)({}),f=Object(d.a)(v,2),g=f[0],w=f[1],y=Object(a.useState)([]),N=Object(d.a)(y,2),F=N[0],S=N[1],T=Object(a.useState)([]),E=Object(d.a)(T,2),I=E[0],M=E[1],B=Object(a.useState)([]),D=Object(d.a)(B,2),U=D[0],Y=D[1],J=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,e.next=5,p();case 5:return n=e.sent,e.next=8,O();case 8:return a=e.sent,e.next=11,x();case 11:r=e.sent,(c=Object(o.a)(t)).sort((function(e,t){return e.healthscore-t.healthscore})),b(c),s(c),S(n),M(a),Y(r);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){J()}),[]),Object(a.useEffect)((function(){w(n[0])}),[n]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(R,{}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsxs)(h.a,{style:{width:300,height:"84vh"},children:[Object(k.jsx)("div",{style:{marginTop:90},children:function(){var e=[{statusName:"Todos",color:"#1F3577",background:"white",status:P.all},{statusName:"Normal",color:"#00FF57",background:"white",status:P.success},{statusName:"Aten\xe7\xe3o",color:"#FFA800",background:"white",status:P.warning},{statusName:"Perigo",color:"#FF5050",background:"white",status:P.danger}];return Object(k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:e.map((function(e,t){return Object(k.jsxs)("button",{style:{border:"solid 1px ".concat(e.color),backgroundColor:"#fff",borderRadius:10,display:"flex",alignItems:"center",justifyContent:"space-evenly",padding:5},onClick:function(){return function(e){var t=Object(o.a)(n);if(e!==P.danger)if(e!==P.warning)if(e!==P.success)b(n);else{var a=t.filter((function(e){return e.healthscore>=70}));b(a)}else{var s=t.filter((function(e){return e.healthscore<=69&&e.healthscore>=60}));b(s)}else{var r=t.filter((function(e){return e.healthscore<=59}));b(r)}}(e.status)},children:[Object(k.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("ellipse",{cx:"11",cy:"10.5",rx:"11",ry:"10.5",fill:e.color})}),Object(k.jsx)("span",{style:{marginLeft:5},children:e.statusName})]},t)}))})}()}),Object(k.jsx)(j.a,{style:{width:"100%",position:"relative",overflow:"auto",padding:10,height:"100%"},children:i.map((function(e){return Object(k.jsx)(A,{asset:e,setModel:w})}))})]}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginLeft:"100px"},children:[Object(k.jsx)(L,{companies:F,users:I,units:U}),Object(k.jsx)(C,{asset:g})]})]})]})};n(126);var J=function(){return Object(k.jsx)(Y,{})};c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(J,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.cc054c98.chunk.js.map